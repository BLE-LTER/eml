<?xml version="1.0"?>
<!-- sample data query specification instance for the datamanager library -->
<dq:dataquery 
	xmlns:dq="eml://ecoinformatics.org/dataquery" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="eml://ecoinformatics.org/dataquery dataquery.xsd ">
	<!--
		This sample XML is parsed by the Data Manager to produce the following SQL
		(formatted for improved legibility):
		
		SELECT Datos_Meteorologicos.DATE,Datos_Meteorologicos.TIME 
		FROM Datos_Meteorologicos  where Datos_Meteorologicos.DATE = '1' 
		
		UNION ALL 
		
		SELECT Datos_Meteorologicos.DATE,Datos_Meteorologicos.TIME 
		FROM Datos_Meteorologicos  
		where  Datos_Meteorologicos.DATE = Datos_Meteorologicos.TIME 
		AND Datos_Meteorologicos.TIME = 'happy' 
		AND Datos_Meteorologicos.TIME IN (
			SELECT Datos_Meteorologicos.TIME FROM Datos_Meteorologicos  
			where  Datos_Meteorologicos.TIME = '100' 
			AND Datos_Meteorologicos.TIME = '200'  
		) 
		AND ( 
			Datos_Meteorologicos.DATE = '1234' OR Datos_Meteorologicos.DATE = '5678' 
		) ;
		
	-->
	<union>
		<!-- first query in UNION -->
		<query>
			<selection>
				<datapackage id="tao.1.1">
					<entity index="0">
						<attribute index="0"/>
						<attribute index="1"/>
					</entity>
				</datapackage>
			</selection>
			<where>
				<condition type="condition">
					<left>
						<datapackage id="tao.1.1">
							<entity index="0">
								<attribute index="0"/>
							</entity>
						</datapackage>
					</left>
					<right>
						<value>1</value>
					</right>
					<operator>=</operator>
				</condition>
			</where>
		</query>
		<!-- second query in UNION -->
		<query>
			<selection>
				<datapackage id="tao.1.1">
					<entity index="0">
						<attribute index="0"/>
						<attribute index="1"/>
					</entity>
				</datapackage>
			</selection>
			<where>
				<and>
					<condition type="join">
						<left>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="0"/>
								</entity>
							</datapackage>
						</left>
						<right>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="1"/>
								</entity>
							</datapackage>
						</right>
						<operator>=</operator>
					</condition>
					<condition type="condition">
						<left>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="1"/>
								</entity>
							</datapackage>
						</left>
						<right>
							<value>happy</value>
						</right>
						<operator>=</operator>
					</condition>
					
					<!-- subquery clause-->
					<condition type="subquery">
						<left>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="1"/>
								</entity>
							</datapackage>
						</left>
						<right>
							<subquery>
								<selection>
									<datapackage id="tao.1.1">
										<entity index="0">
											<attribute index="1"/>
										</entity>
									</datapackage>
								</selection>
								<where>
									<and>
										<condition type="condition">
											<left>
												<datapackage id="tao.1.1">
													<entity index="0">
														<attribute index="1"/>
													</entity>
												</datapackage>
											</left>
											<right>
												<value>100</value>
											</right>
											<operator>=</operator>
										</condition>
										<condition type="condition">
											<left>
												<datapackage id="tao.1.1">
													<entity index="0">
														<attribute index="1"/>
													</entity>
												</datapackage>
											</left>
											<right>
												<value>200</value>
											</right>
											<operator>=</operator>
										</condition>
									</and>	
								</where>
							</subquery>
						</right>
						<operator>IN</operator>
					</condition>
					
					<!-- nested OR relation --> 
					<or>
						<condition type="condition">
							<left>
								<datapackage id="tao.1.1">
									<entity index="0">
										<attribute index="0"/>
									</entity>
								</datapackage>
							</left>
							<right>
								<value>1234</value>
							</right>
							<operator>=</operator>
						</condition>
						<condition type="condition">
							<left>
								<datapackage id="tao.1.1">
									<entity index="0">
										<attribute index="0"/>
									</entity>
								</datapackage>
							</left>
							<right>
								<value>5678</value>
							</right>
							<operator>=</operator>
						</condition>
					</or>
				</and>	
			</where>
		</query>
	</union>
</dq:dataquery>
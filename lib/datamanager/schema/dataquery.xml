<?xml version="1.0"?>
<!-- sample data query specification instance for the datamanager library -->
<dq:dataquery 
	xmlns:dq="eml://ecoinformatics.org/dataquery" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="eml://ecoinformatics.org/dataquery dataquery.xsd ">
	<union>
		<!-- first query in UNION -->
		<query>
			<selection>
				<datapackage id="tao.1.1">
					<entity index="0">
						<attribute index="0"/>
						<attribute index="1"/>
					</entity>
				</datapackage>
			</selection>
			<where>
				<condition type="condition">
					<left>
						<datapackage id="tao.1.1">
							<entity index="0">
								<attribute index="0"/>
							</entity>
						</datapackage>
					</left>
					<right>
						<value>1</value>
					</right>
					<operator>=</operator>
				</condition>
			</where>
		</query>
		<!-- second query in UNION -->
		<query>
			<selection>
				<datapackage id="tao.1.1">
					<entity index="0">
						<attribute index="0"/>
						<attribute index="1"/>
					</entity>
				</datapackage>
			</selection>
			<where>
				<and>
					<condition type="join">
						<left>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="0"/>
								</entity>
							</datapackage>
						</left>
						<right>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="1"/>
								</entity>
							</datapackage>
						</right>
						<operator>=</operator>
					</condition>
					<condition type="condition">
						<left>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="1"/>
								</entity>
							</datapackage>
						</left>
						<right>
							<value>happy</value>
						</right>
						<operator>=</operator>
					</condition>
					
					<!-- subquery clause-->
					<condition type="subquery">
						<left>
							<datapackage id="tao.1.1">
								<entity index="0">
									<attribute index="1"/>
								</entity>
							</datapackage>
						</left>
						<right>
							<subquery>
								<selection>
									<datapackage id="tao.1.1">
										<entity index="0">
											<attribute index="1"/>
										</entity>
									</datapackage>
								</selection>
								<where>
									<condition type="condition">
										<left>
											<datapackage id="tao.1.1">
												<entity index="0">
													<attribute index="1"/>
												</entity>
											</datapackage>
										</left>
										<right>
											<value>100</value>
										</right>
										<operator>=</operator>
									</condition>
								</where>
							</subquery>
						</right>
						<operator>IN</operator>
					</condition>
					
					<!-- nested OR relation --> 
					<or>
						<condition type="condition">
							<left>
								<datapackage id="tao.1.1">
									<entity index="0">
										<attribute index="0"/>
									</entity>
								</datapackage>
							</left>
							<right>
								<value>1234</value>
							</right>
							<operator>=</operator>
						</condition>
						<condition type="condition">
							<left>
								<datapackage id="tao.1.1">
									<entity index="0">
										<attribute index="0"/>
									</entity>
								</datapackage>
							</left>
							<right>
								<value>5678</value>
							</right>
							<operator>=</operator>
						</condition>
					</or>
				</and>	
			</where>
		</query>
	</union>
</dq:dataquery>
<?xml version ="1.0"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:rp="eml:ResponsibleParty"
           targetNamespace="eml:resource">

  <xs:annotation>
    <xs:documentation>
       '$RCSfile: eml-resource.xsd,v $'
       Copyright: 2000 Regents of the University of California and the
                  National Center for Ecological Analysis and Synthesis
     For Details: http://knb.ecoinformatics.org/
  
        '$Author: jones $'
          '$Date: 2001-04-13 23:26:52 $'
      '$Revision: 1.17 $'
    
    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.
  
    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
  
    You should have received a copy of the GNU General Public License
    along with this program; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
    </xs:documentation>
    <xs:appinfo>
     <moduleName>
        eml-resource
      </moduleName>
      <moduleDescription>
        The eml-resource module contains general information that describes
        dataset resources, literature resources, collection  resources, and
        software resources.  It is intended to provide overview information
        about the resource, including title, abstract, keywords, contacts, and
        the links to associated metadata and data for the given resource.
      </moduleDescription>
    </xs:appinfo>
  </xs:annotation>

 <!-- import the elements from responsible party for use in originator -->
  <xs:import namespace="eml:ResponsibleParty" 
          schemaLocation="./eml-party.xsd"/>
 
  <!-- this is the base type that the other resource types extend -->
  <xs:complexType name="ResourceBase">
    <xs:annotation>
      <xs:appinfo>
        <tooltip>
          Resource Base
        </tooltip>
        <summary>
          Generic information about any resource that is being described.  
        </summary>
        <description>
          The 'ResourceBase' complexType contains information that is inherited
          by each resource type that is being documented.  The subelements with
          the resource base are common to al resources.
        </description>
        <example>
          Please see the examples within the sub-elements of the 'ResourceBase'
          complexType.
        </example>
        <lineage>
          The 'ResourceBase' element was introduced into EML 2.0.
        </lineage>
      </xs:appinfo>
    </xs:annotation>

    <xs:sequence>
      <xs:element name="identifier" type="xs:string"
                  minOccurs="1" maxOccurs="unbounded">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Unique identifier
            </tooltip>
            <summary>
              The unique identifier of this metadata file or object.
            </summary>
            <description>
              The identifier field provides a unique identifier for this
              metadata documentation.  It will most likely be part of a 
              sequence of numbers or letters that are meaningful in a 
              larger context, such as a metadata catalog. That larger
              system can be identified in the "system" attribute. Multiple
              identifiers can be listed corresponding to different catalog
              systems.
            </description>
            <example>
             <![CDATA[<identifier system="metacat">nceas.3.2</identifier>]]>
            </example>
            <lineage>
              The 'identifier' field is derived from the eml-dataset 
              meta_file_id filed in EML 1.4.
            </lineage>
          </xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="system" use="optional" type="xs:string">
            <xs:annotation>
              <xs:appinfo>
                <tooltip>
                  Catalog system
                </tooltip>
                <summary>
                  The catalog system in which this identifier is used.
                </summary>
                <description>
                  This element gives the name of the catalog system in which
                  this identifier is used.  It is useful to determine the
                  scope of the identifier, and to determine the semantics
                  of the various subparts of the identifier. 
                  Unresolved issue:
                  can or should this be a URI/URL pointing to the catalog
                  system, or just the name?
                </description>
                <example><![CDATA[
                  <identifier system="metacat">nceas.3.2</identifier>]]>
                </example>
                <lineage>
                  New to EML 2.0.
                </lineage>
              </xs:appinfo>
            </xs:annotation>
          </xs:attribute>
        </xs:complexType>
      </xs:element>

      <xs:element name="shortName" type="xs:string" 
                  minOccurs="0" maxOccurs="1" >
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Short Name
            </tooltip>
            <summary>
              A short name that describes the resource, sometimes 
              a filename.
            </summary>
            <description>
              The 'shortName' field provides a concise name that 
              describes the resource that is being documented. It is 
              the appropriate place to store a filename associated with 
              other storage systems.
            </description>
            <example>
              vernal-data-1999
            </example>
            <lineage>
              This element was derived from elements described in the 
              ISO 19115.3 standard (iso-geo-md-2000June-draft).
            </lineage>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>

      <xs:element name="title" type="xs:string" 
                  minOccurs="1" maxOccurs="unbounded" >
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Title
            </tooltip>
            <summary>
              A brief description of the resource, providing enough detail
              to differentiate it from other similar resources.
            </summary>
            <description>
              The 'title' field provides a description of the
              resource that is being documented that is long enough
              to differentiate it from other similar resources.  Multiple
              titles may be provided, particularly when trying to express
              the title in more than one language (use the "xml:lang"
              attribute to indicate the language if not English/en).
            </description>
            <example>
              Vernal pool amphibian density data, Isla Vista, 1990-1996.
            </example>
            <lineage>
              This element was derived from elements described in the 
              ISO 19115.3 standard (iso-geo-md-2000June-draft).
            </lineage>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>

      <xs:element name="originator" type="rp:ResponsibleParty" 
                  minOccurs="1" maxOccurs="unbounded" >
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Originator
            </tooltip>
            <summary>
              A person or organization asociated with this resource.
            </summary>
            <description>
              The 'originator' element provides the full name of the
              person, organization, or position associated with the resource.  
              Typically, the originator role is set to "owner" 
              to indicate the list of parties who "own" the resource, 
              but other roles such as "principal investigator", "author", 
              and "editor" are provided.
            </description>
            <example>
              Please see the examples within the sub fields for 
              the responsible party.
            </example>
            <lineage>
              This element was derived from elements described in the
              FGDC-STD-001.1-1999 standard (nbii-fgdc-std-001.1-1999)
            </lineage>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>
      
      <xs:element name="pubDate" type="xs:date" 
                  minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Publication date
            </tooltip>
            <summary>
              The publication date of the resource.
            </summary>
            <description>
              The 'pubDate' field represents the date that the resource was
              published.  The format should be represented as: CCYY-MM-DD, 
              which denotes the full year, month, and day.
            </description>
            <example>
              1999-10-26
            </example>
            <lineage>
              This element was derived from elements described in the
              FGDC-STD-001.1-1999 standard (nbii-fgdc-std-001.1-1999)
              The type 'xs:date' folllows the date standard described in ISO
              8601.
            </lineage>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>

      <xs:element name="pubPlace" type="xs:string" 
                  minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Publication place
            </tooltip>
            <summary>
              The location that the resource was published.
            </summary>
            <description>
              the 'pubPlace' field is the location where the resource was
              published, which may be different from where the resource was
              created.
            </description>
            <example>
              San Francisco, CA, USA
            </example>
            <lineage>
              This element was derived from elements described in the
              FGDC-STD-001.1-1999 standard (nbii-fgdc-std-001.1-1999)
            </lineage>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>

      <xs:element name="series" type="xs:string" 
                  minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Series
            </tooltip>
            <summary>
              The series from which the resource came.
            </summary>
            <description>
              This field describes the series of resources that include the
              resource being described.  For example, a volume of a 
              journal may be part of a series of the journal for a 
              particular year.
            </description>
            <example>
              Volume 20
            </example>
            <lineage>
              This element was derived from elements described in the
              FGDC-STD-001.1-1999 standard (nbii-fgdc-std-001.1-1999)
              and ISO 19115.3 standard (iso-geo-md-2000June-draft)
            </lineage>
          </xs:appinfo>
        </xs:annotation>
      </xs:element>

      <xs:element name="abstract" minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Abstract
            </tooltip>
            <summary>
              A brief overview of the resource.
            </summary>
            <description>
              This field provides a container for one or more paragraph 
              fields that give a brief overview of the resource 
              that is being documented. 
            </description>
            <example>
              Please see the examples for the subfields contained 
              within this field.
            </example>
            <lineage>
              This element was derived from elements described in the
              FGDC-STD-001.1-1999 standard (nbii-fgdc-std-001.1-1999)
            </lineage>
          </xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="paragraph" type="xs:string"
                        minOccurs="1" maxOccurs="unbounded">
              <xs:annotation>
                <xs:appinfo>
                  <tooltip>
                    Abstract paragraph
                  </tooltip>
                  <summary>
                    The paragraph field for the text in an abstract.
                  </summary>
                  <description>
                    This field is intended for the text of an abstract
                    that gives a brief overview of the resource.  There
                    may be one or more paragraphs within the abstract.
                  </description>
                  <example>
                    The major unanswered question in marine ecology is the
                    degree of connectedness between local populations. Put
                    another way, what proportion of young arriving into a
                    local population are products of local production? What
                    is the source of recruits for any local population,
                    and where do the young produced in a local population
                    go? The answers to these questions are unknown for
                    any widespread species with a pelagic dispersal
                    phase. Proper marine management depends on knowledge
                    in this area: the efficacy of any reserve design, for
                    example, is highly dependent on the degree to which
                    it is dependent on other populations for recruitment,
                    and the degree to which it supplies other areas.
                  </example>
                  <lineage>
                    This field was introduced into EML 2.0, and was derived from
                    EML 1.3.
                  </lineage>
                </xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>

      <xs:element name="keywordSet" minOccurs="0" maxOccurs="unbounded">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Keyword information
            </tooltip>
            <summary>
               Keyword information that describes the resource.
            </summary>
            <description>
              The 'keywordSet' element is a container for the 'keyword' and
              'keywordThesaurus' fields.  Each keywordSet field can contain
              one or more keywords and a name of a thesaurus for the set of
              keywords.
            </description>
            <example>
              Please see the examples for the subfields contained 
              within this field.
            </example>
            <lineage>
              This element was derived from elements described in the
              FGDC-STD-001.1-1999 standard (nbii-fgdc-std-001.1-1999)
            </lineage>
          </xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="keyword" type="xs:string" 
                        minOccurs="1" maxOccurs="unbounded" >
              <xs:annotation>
                <xs:appinfo>
                  <tooltip>
                    Keyword
                  </tooltip>
                  <summary>
                    A keyword that describes the resource.
                  </summary>
                  <description>
                    This field names a keyword or keyphrase that concisely 
                    describes the resource or is related to the resource.
                  </description>
                  <example>
                    biodiversity
                  </example>
                  <lineage>
                    This field was introduced into EML 2.0 beta 1, and was 
                    derived from EML 1.3. and the ISO 19115.3 standard
                    (iso-geo-md-2000June-draft).
                  </lineage>
                </xs:appinfo>
              </xs:annotation>
              <xs:complexType>
                <xs:attribute name="keywordType" type="KeyTypCode" 
                            minOccurs="0" maxOccurs="1">
                  <xs:annotation>
                    <xs:appinfo>
                      <tooltip>
                        Keyword type
                      </tooltip>
                      <summary>
                        The type of each keyword.
                      </summary>
                      <description>
                        This field classifies the keyword that has been
                        provided from a list of pre-determined categories. The
                        possible types are listed in the example.
                      </description>
                      <example>
                        "discipline","place","stratum","temporal","thematic", 
                        or "taxonomic"
                      </example>
                      <lineage>
                        This field was introduced into EML 2.0, and
                        was derived from EML 1.3. and the  ISO 19115.3
                        standard(iso-geo-md-2000June-draft).
                      </lineage>
                    </xs:appinfo>
                  </xs:annotation>
                </xs:attribute>
              </xs:complexType>
            </xs:element>
            <xs:element name="keywordThesaurus" type="xs:string" 
                        minOccurs="0" maxOccurs="unbounded">
              <xs:annotation>
                <xs:appinfo>
                  <tooltip>
                    Keyword thesaurus
                  </tooltip>
                  <summary>
                    The name of a thesaurus from which the keyword is derived.
                  </summary>
                  <description>
                    This field provides the name of the official keyword
                    thesaurus from which keyword was derived.  The keyword
                    thesauri are usually discipline specific.
                  </description>
                  <example>
                    IRIS keyword thesaurus
                  </example>
                  <lineage>
                    This field was introduced into EML 2.0, and
                    was derived from EML 1.3. and the  ISO 19115.3
                    standard(iso-geo-md-2000June-draft).
                  </lineage>
                </xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>

      <xs:element name="additionalInfo" type="xs:string" 
                  minOccurs="0" maxOccurs="1">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Additional Information
            </tooltip>
            <summary>
              Any extra information pertitent to the resource.
            </summary>
            <description>
              This field provides any information that is not 
              characterized by the other resource metadata fields.
            </description>
            <example>
              Copyright 2001, Robert Warner
            </example>
            <lineage>
              This element was derived from elements described in the
              FGDC-STD-001.1-1999 standard (nbii-fgdc-std-001.1-1999)
            </lineage>
          </xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="paragraph" type="xs:string"
                        minOccurs="1" maxOccurs="unbounded">
              <xs:annotation>
                <xs:appinfo>
                  <tooltip>
                    Paragraph
                  </tooltip>
                  <summary>
                    The paragraph field for the additional text.
                  </summary>
                  <description>
                    This field is intended for the text 
                    that gives additional information about the resource.  
                    There may be one or more paragraphs.
                  </description>
                  <example>
                    Copyright 2001, Robert Warner
                  </example>
                  <lineage>
                    This field was introduced into EML 2.0.
                  </lineage>
                </xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>

      <xs:element name="triple" minOccurs="0" maxOccurs="unbounded">
        <xs:annotation>
          <xs:appinfo>
            <tooltip>
              Component list 
            </tooltip>
            <summary>
              The definition of a relationship between component objects
              in a resource package
            </summary>
            <description>
              The triple element lists all relationships in the resource,
              which effectively enumerates the components of the resource.
              The relationships are in the form of:
              <![CDATA[<subject> <relationship> <object>]]>
              A triple allows a user to define a relationship between two
              objects.  This relationship can also be recursive so that an
              object can point back to the package of which it is a part.
            </description>
            <example>
              Normal (nonrecursive):
              <![CDATA[
              <subject>knb.3.4</subject> 
              <relationship>isFileMetadataFor</relationship>
              <object>knb.5</object>

              Recursive:
              <subject>lter.123</subject>
              <relationship>isPackageMember</relationship>
              <object>lter.18</object>
              ]]>
              where object lter.18 is the identifier of the resource
              in which this relationship exists.
            </example>
            <lineage>
              Derived from the eml-dataset.dtd element called "relation" in
              EML 1.4.
            </lineage>
          </xs:appinfo>
        </xs:annotation>
        <xs:complexType>
          <xs:sequence>
            <xs:element name="subject" type="xs:string"
                        minOccurs="1" maxOccurs="1">
              <xs:annotation>
                <xs:appinfo>
                  <tooltip>
                    Subject element
                  </tooltip>
                  <summary>
                    Subject element of the relationship.
                  </summary>
                  <description>
                    Subject is the identifier of the metadata object or file 
                    that is the actor in the triple.
                  </description>
                  <example>
                    <![CDATA[ <subject>knb.3.4</subject> ]]>
                  </example>
                  <lineage>
                    Subject element was introduce into EML 2.0 Proposed.
                  </lineage>
                </xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element name="relationship" type="xs:string"
                        minOccurs="1" maxOccurs="1">
              <xs:annotation>
                <xs:appinfo>
                  <tooltip>
                    Relationship type
                  </tooltip>
                  <summary>
                    The type of relationship between the subject and
                    object of the triple
                  </summary>
                  <description>
                    Relationship is a descriptive phrase that specifies the 
                    how the subject of the triple is related to the object.  
                    This is typically meant to label the type of descriptor 
                    that a metadata file (the subject) represents for a data
                    file (the object).  This allows one to express concepts
                    such as "knb.32.3 lists access control rules for knb.2.2".
                  </description>
                  <example>
                    <![CDATA[ 
                    <relationship>is metadata describing</relationship> ]]>
                  </example>
                  <lineage>
                    The relationship element was introduced in EML 2.0.
                  </lineage>
                </xs:appinfo>
              </xs:annotation>
            </xs:element>
            <xs:element name="object" type="xs:string"
                        minOccurs="1" maxOccurs="1">
              <xs:annotation>
                <xs:appinfo>
                  <tooltip>
                    Object element
                  </tooltip>
                  <summary>
                    The object element of the relationship.
                  </summary>
                  <description>
                    Object is the identifier of the metadata or data object 
                    that is acted upon according to the relationship in the
                    triple.
                  </description>
                  <example>
                    <![CDATA[ <subject>knb.8.4</subject> ]]>
                  </example>
                  <lineage>
                    The object element was introduced in EML 2.0.
                  </lineage>
                </xs:appinfo>
              </xs:annotation>
            </xs:element>
          </xs:sequence>
        </xs:complexType>
      </xs:element>
    </xs:sequence>
  </xs:complexType>
  
  <!-- The keyword type domain take directly from ISO -->
  <xs:simpleType name="KeyTypCode">
    <xs:annotation>
      <xs:appinfo>
        <tooltip>
          Keyword type codes
        </tooltip>
        <summary>
          The list of keyword categories
        </summary>
        <description>
          This field provides a restricted list of categories that a keyword may
          fall under.
        </description>
            <example>
              place
            </example>
        <lineage>
        </lineage>
      </xs:appinfo>
    </xs:annotation>
    <xs:restriction base="xs:string">
      <xs:enumeration value="discipline" />
      <xs:enumeration value="place" />
      <xs:enumeration value="stratum" />
      <xs:enumeration value="temporal" />
      <xs:enumeration value="thematic" />
      <xs:enumeration value="taxonomic" />
    </xs:restriction>
      <!-- More types should be added here. -->
  </xs:simpleType>
        
</xs:schema>
